# Git コンフリクト解決の手順とベストプラクティス

## コンフリクトが発生する主なシナリオ

1. 同じファイルの同じ行を複数のブランチで変更した場合
2. 一方のブランチでファイルを削除し、他方で変更した場合
3. マージやリベース時に発生

## Sourcetree を使用したコンフリクト解決の手順

### 1. コンフリクトの検出

- Sourcetree のメイン画面で、コンフリクトが発生しているファイルは赤色で表示されます
- ファイル一覧で「コンフリクト」のステータスが表示されます

### 2. コンフリクトの解決方法

#### Sourcetree のマージツールを使用する場合

1. コンフリクトが発生しているファイルを右クリック
2. 「コンフリクトを解決」を選択
3. 以下の 3 つのオプションから選択：
   - 「現在の変更を使用」：現在のブランチの変更を採用
   - 「受信した変更を使用」：マージしようとしているブランチの変更を採用
   - 「手動で編集」：手動で編集して解決

#### 手動で解決する場合

1. コンフリクトが発生しているファイルを右クリック
2. 「ファイルを開く」を選択
3. 以下のようなマーカーを探す：
   ```
   <<<<<<< HEAD
   現在のブランチの変更
   =======
   マージしようとしているブランチの変更
   >>>>>>> branch-name
   ```
4. 必要な変更を残し、マーカーを削除
5. ファイルを保存

### 3. 解決の確認とコミット

1. コンフリクトを解決したファイルを右クリック
2. 「ステージングに追加」を選択
3. コミットメッセージを入力
4. 「コミット」ボタンをクリック

## ベストプラクティス

### コンフリクトを防ぐための対策

1. 小さな単位で頻繁にコミットする
2. 定期的にリモートリポジトリと同期する
3. 機能ごとに適切なブランチ戦略を採用する
4. チーム内で作業範囲を明確に分ける

### コンフリクト解決時の注意点

1. 変更内容を十分に理解してから解決する
2. 必要に応じてチームメンバーと相談する
3. 解決後は必ずテストを実行する
4. コンフリクト解決のコミットメッセージは明確に記述する

### 推奨されるワークフロー

1. 作業開始前に「プル」で最新の変更を取得
2. 機能開発は専用のブランチで行う
3. 定期的なマージ/リベースでコンフリクトを早期発見
4. コードレビューを実施して品質を確保

## トラブルシューティング

### コンフリクト解決を取り消す場合

1. 「操作」メニューから「マージを中止」を選択

### 特定のファイルのコンフリクト解決を取り消す場合

1. 該当ファイルを右クリック
2. 「変更を破棄」を選択

### コンフリクト解決の履歴を確認

1. 「ログ」タブでマージコミットを確認
2. 必要に応じて「差分を表示」で詳細を確認
